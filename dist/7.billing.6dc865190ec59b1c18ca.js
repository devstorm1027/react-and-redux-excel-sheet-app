webpackJsonp([7],{47:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(13),a=n(r),i=o(70),s=n(i),l=o(27),p=n(l),u=o(71),c=n(u),d=o(29),f=n(d),h=o(28),y=n(h),m=o(1),g=n(m),b=o(5);t.default=function(e){var t=e.componentWillMount,o=e.componentDidMount,n=e.componentWillReceiveProps,r=e.shouldComponentUpdate,i=e.componentWillUpdate,l=e.componentDidUpdate,u=e.componentWillUnmount,d=e.willMount,h=e.didMount,m=e.willReceiveProps,v=e.willUpdate,P=e.didUpdate,D=e.willUnmount;return function(e){var S=function(b){function S(){return(0,p.default)(this,S),(0,f.default)(this,(S.__proto__||(0,s.default)(S)).apply(this,arguments))}return(0,y.default)(S,b),(0,c.default)(S,[{key:"applyDispatch",value:function(e,t){var o=this.props,n=o.dispatch,r=(0,a.default)(o,["dispatch"]);t?e(r,t,n):e(r,n)}},{key:"componentWillMount",value:function(){var e=d||t;e&&this.applyDispatch(e)}},{key:"componentDidMount",value:function(){var e=h||o;e&&this.applyDispatch(e)}},{key:"componentWillReceiveProps",value:function(e){var t=m||n;t&&this.applyDispatch(t,e)}},{key:"shouldComponentUpdate",value:function(e,t){return!r||this.applyDispatch(r,e)}},{key:"componentWillUpdate",value:function(e){var t=v||i;t&&this.applyDispatch(t,e)}},{key:"componentDidUpdate",value:function(e){var t=P||l;if(t){var o=this.props,n=o.dispatch,r=(0,a.default)(o,["dispatch"]);t(e,r,n)}}},{key:"componentWillUnmount",value:function(){var e=D||u;e&&this.applyDispatch(e)}},{key:"render",value:function(){return g.default.createElement(e,this.props)}}]),S}(g.default.Component);return S.displayName="ComponentDispatch",S.propTypes={dispatch:g.default.PropTypes.func},(0,b.connect)()(S)}}},580:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(110),a=n(r),i=o(1),s=n(i),l=o(5),p=o(1037),u=n(p),c=o(47),d=n(c),f=o(55),h=[{minUsers:1,maxUsers:50,stripeAmountPerUser:2e3},{minUsers:51,maxUsers:100,stripeAmountPerUser:1500},{minUsers:101,maxUsers:1e9,stripeAmountPerUser:1e3}],y=function(e){var t=e.product,o=e.totalUsers,n=e.userActiveCount,r=e.userInactiveCount;return s.default.createElement("div",null,s.default.createElement("h1",null,"Your account currently has ",o," users"),s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-3 col-md-offset-1"},s.default.createElement("h3",{className:"text-muted"},n," active users"),s.default.createElement("h3",{className:"text-muted"},r," inactive users")),s.default.createElement("div",{className:"col-md-3"},s.default.createElement("h4",null,"Pay for ",n," users"),s.default.createElement("div",null,"$",t.stripeAmountPerUser/100," per user"),s.default.createElement("br",null),s.default.createElement(u.default,{token:function(e){alert("got token - "+(0,a.default)(e))},stripeKey:"pk_test_aMcdkt6IoZzehZQ7Y1Zz1brB",amount:t.stripeAmountPerUser*n,panelLabel:"Pay",name:"Promere"}))))};y.displayName="BillingView",y.propTypes={product:s.default.PropTypes.object,totalUsers:s.default.PropTypes.number,userActiveCount:s.default.PropTypes.number,userInactiveCount:s.default.PropTypes.number},t.default=(0,d.default)({willMount:function(e,t){t(f.actions.getUserList())}})((0,l.connect)(function(e){var t=f.selectors.getActiveCount(e),o=h[0];return t>50?o=h[1]:t>100&&(o=h[2]),{product:o,totalUsers:f.selectors.getUsers(e).length,userActiveCount:t,userInactiveCount:f.selectors.getInactiveCount(e)}})(y))},1037:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},p=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=n(u),d=!1,f=!1,h=!1,y=function(e){function t(e){a(this,t);var o=i(this,Object.getPrototypeOf(t).call(this,e));return o.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:o.props.stripeKey}),o.hasPendingClick&&o.showStripeDialog())},o.onScriptError=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.hideLoadingDialog(),o.props.onScriptError&&o.props.onScriptError.apply(o,t)},o.onClosed=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.setState({open:!1}),o.props.closed&&o.props.closed.apply(o,t)},o.onOpened=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.setState({open:!0}),o.props.opened&&o.props.opened.apply(o,t)},o.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce(function(e,t){return l({},e,o.props.hasOwnProperty(t)&&r({},t,o.props[t]))},{opened:o.onOpened,closed:o.onClosed})},o.onClick=function(){if(!o.props.disabled)if(h)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?o.showStripeDialog():(o.showLoadingDialog(),o.hasPendingClick=!0)},o.handleOnMouseDown=function(){o.setState({buttonActive:!0})},o.handleOnMouseUp=function(){o.setState({buttonActive:!1})},o.state={open:!1,buttonActive:!1},o}return s(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this;if(!f&&!d){d=!0;var t=document.createElement("script");"function"==typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var o=!1,n=new Promise(function(o,n){t.onload=function(){f=!0,d=!1,o(),e.onScriptLoaded()},t.onerror=function(t){h=!0,d=!1,n(t),e.onScriptError(t)}}),r=new Promise(function(e,t){n.then(function(){return o?t({isCanceled:!0}):e()}),n.catch(function(e){return t(o?{isCanceled:!0}:e)})});return{promise:r,cancel:function(){o=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){d||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return c.default.createElement("button",l({},r({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:l({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),c.default.createElement("span",{style:l({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return c.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},c.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){this.props.desktopShowModal!==!0||this.state.open?this.props.desktopShowModal===!1&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?c.default.createElement(e,l({},r({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(c.default.Component);y.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},y.propTypes={desktopShowModal:c.default.PropTypes.bool,triggerEvent:c.default.PropTypes.oneOf(["onClick","onTouchTap","onTouchStart"]),label:c.default.PropTypes.string,style:c.default.PropTypes.object,textStyle:c.default.PropTypes.object,disabled:c.default.PropTypes.bool,ComponentClass:c.default.PropTypes.string,showLoadingDialog:c.default.PropTypes.func,hideLoadingDialog:c.default.PropTypes.func,onScriptError:c.default.PropTypes.func,onScriptTagCreated:c.default.PropTypes.func,reconfigureOnUpdate:c.default.PropTypes.bool,stripeKey:c.default.PropTypes.string.isRequired,token:c.default.PropTypes.func.isRequired,name:c.default.PropTypes.string,description:c.default.PropTypes.string,image:c.default.PropTypes.string,amount:c.default.PropTypes.number,locale:c.default.PropTypes.oneOf(["auto","zh","nl","en","fr","de","it","jp","es"]),currency:c.default.PropTypes.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:c.default.PropTypes.string,zipCode:c.default.PropTypes.bool,billingAddress:c.default.PropTypes.bool,shippingAddress:c.default.PropTypes.bool,email:c.default.PropTypes.string,allowRememberMe:c.default.PropTypes.bool,bitcoin:c.default.PropTypes.bool,alipay:c.default.PropTypes.oneOf(["auto",!0,!1]),alipayReusable:c.default.PropTypes.bool,opened:c.default.PropTypes.func,closed:c.default.PropTypes.func},t.default=y}});