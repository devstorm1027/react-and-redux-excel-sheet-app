webpackJsonp([5],{47:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(13),l=n(r),o=a(70),u=n(o),i=a(27),d=n(i),s=a(71),c=n(s),m=a(29),f=n(m),p=a(28),b=n(p),v=a(1),y=n(v),g=a(5);t.default=function(e){var t=e.componentWillMount,a=e.componentDidMount,n=e.componentWillReceiveProps,r=e.shouldComponentUpdate,o=e.componentWillUpdate,i=e.componentDidUpdate,s=e.componentWillUnmount,m=e.willMount,p=e.didMount,v=e.willReceiveProps,h=e.willUpdate,E=e.didUpdate,_=e.willUnmount;return function(e){var w=function(g){function w(){return(0,d.default)(this,w),(0,f.default)(this,(w.__proto__||(0,u.default)(w)).apply(this,arguments))}return(0,b.default)(w,g),(0,c.default)(w,[{key:"applyDispatch",value:function(e,t){var a=this.props,n=a.dispatch,r=(0,l.default)(a,["dispatch"]);t?e(r,t,n):e(r,n)}},{key:"componentWillMount",value:function(){var e=m||t;e&&this.applyDispatch(e)}},{key:"componentDidMount",value:function(){var e=p||a;e&&this.applyDispatch(e)}},{key:"componentWillReceiveProps",value:function(e){var t=v||n;t&&this.applyDispatch(t,e)}},{key:"shouldComponentUpdate",value:function(e,t){return!r||this.applyDispatch(r,e)}},{key:"componentWillUpdate",value:function(e){var t=h||o;t&&this.applyDispatch(t,e)}},{key:"componentDidUpdate",value:function(e){var t=E||i;if(t){var a=this.props,n=a.dispatch,r=(0,l.default)(a,["dispatch"]);t(e,r,n)}}},{key:"componentWillUnmount",value:function(){var e=_||s;e&&this.applyDispatch(e)}},{key:"render",value:function(){return y.default.createElement(e,this.props)}}]),w}(y.default.Component);return w.displayName="ComponentDispatch",w.propTypes={dispatch:y.default.PropTypes.func},(0,g.connect)()(w)}}},194:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(577),l=n(r);t.default=l.default},567:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(24),l=n(r),o=a(1),u=n(o),i=function(e){var t=e.input,a=e.id,n=e.type,r=e.label;return u.default.createElement("div",{className:"checkbox checkbox-primary"},u.default.createElement("input",(0,l.default)({},t,{id:""+a,type:""+n})),u.default.createElement("label",{htmlFor:""+a},""+r))};i.displayName="CheckboxField",i.propTypes={id:u.default.PropTypes.string.isRequired,type:u.default.PropTypes.string,label:u.default.PropTypes.string.isRequired,input:u.default.PropTypes.object.isRequired},i.defaultProps={type:"checkbox"},t.default=i},568:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(567),l=n(r);t.default=l.default},577:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultLayout=void 0;var r=a(1),l=n(r),o=t.DefaultLayout=function(e){var t=e.children;return l.default.createElement("div",{className:"simple-page",style:{height:"100%"}},l.default.createElement("div",{className:"simple-page-wrap"},t))};o.displayName="DefaultLayout",o.propTypes={children:l.default.PropTypes.array},t.default=o},581:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(13),l=n(r),o=a(1),u=n(o),i=a(18),d=a(82),s=n(d),c=function(e){var t=(e.initialValues,e.handleSubmit),a=(e.pristine,e.submitting),n=e.submitFailed,r=e.submitSucceeded,o=(e.hideModal,e.showCreateUserModal,e.error);(0,l.default)(e,["initialValues","handleSubmit","pristine","submitting","submitFailed","submitSucceeded","hideModal","showCreateUserModal","error"]);return u.default.createElement("form",{onSubmit:t},!a&&n&&u.default.createElement("div",{className:"alert alert-danger text-center",role:"alert"},o||"Company update failed"),u.default.createElement("div",{className:"form-group"},u.default.createElement(i.Field,{label:"Company Name",id:"companyName",type:"text",className:"form-control",placeholder:"Company Name",name:"name",component:s.default})),u.default.createElement("button",{type:"submit",className:"btn btn-primary btn-lg"},a?"Saving...":"Save"),!a&&r&&u.default.createElement("span",{className:"text-success"},"Company saved!"))};c.propTypes={initialValues:u.default.PropTypes.object,showCreateUserModal:u.default.PropTypes.bool,hideModal:u.default.PropTypes.func,handleSubmit:u.default.PropTypes.func,pristine:u.default.PropTypes.bool,error:u.default.PropTypes.string,submitting:u.default.PropTypes.bool,submitFailed:u.default.PropTypes.bool,submitSucceeded:u.default.PropTypes.bool},t.default=c},582:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(581),l=n(r);t.default=l.default},583:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(13),l=n(r),o=a(1),u=n(o),i=a(18),d=a(316),s=function(e){var t=e.input,a=t.onChange,n=t.value.name,r=((0,l.default)(e,["input"]),n?"":"btn btn-primary");return u.default.createElement("div",null,u.default.createElement("label",{htmlFor:"logo_image",style:{cursor:"pointer"},className:r},n?"Selected "+n:"Change company logo"),u.default.createElement("input",{id:"logo_image",type:"file",name:"logo_image",onChange:function(e){a(e.target.files[0])},style:{display:"none"}}))};s.propTypes={input:u.default.PropTypes.object};var c=function(e){var t=e.base64Image,a=e.handleSubmit,n=e.pristine,r=e.submitting,o=e.submitFailed,c=e.submitSucceeded;(0,l.default)(e,["base64Image","handleSubmit","pristine","submitting","submitFailed","submitSucceeded"]);return u.default.createElement("form",{onSubmit:a},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-2"},u.default.createElement("div",{className:"avatar avatar-xl avatar-circle"},u.default.createElement("img",{className:"img-responsive",src:t||d.COMPANY_IMAGE,alt:"avatar"}))),u.default.createElement("div",{className:"col-md-10"},u.default.createElement(i.Field,{label:"Company Image",id:"logo_image",name:"logo_image",component:s}),!n&&u.default.createElement("button",{type:"submit",className:"btn btn-primary",disabled:n||r},r?"Uploading...":"Upload"),o&&u.default.createElement("span",{className:"text-danger"},"Upload failed"),c&&u.default.createElement("span",{className:"text-success"},"Success!"))))};c.displayName="ImageUpload",c.propTypes={base64Image:u.default.PropTypes.string,handleSubmit:u.default.PropTypes.func,pristine:u.default.PropTypes.bool,submitting:u.default.PropTypes.bool,submitFailed:u.default.PropTypes.bool,submitSucceeded:u.default.PropTypes.bool},t.default=c},584:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(583),l=n(r);t.default=l.default},585:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationForm=void 0;var r=a(582),l=n(r);t.ConfigurationForm=l.default},586:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(56),l=n(r),o=a(5),u=a(18),i=a(200),d=a(584),s=n(d),c=a(16),m="company-image-form";t.default=(0,o.connect)(function(e){var t=i.selectors.getCompany(e),a=t.base64Image;return{base64Image:a}})((0,u.reduxForm)({form:m,validate:function(e){var t={};return e.logo_image||(t.logo_image="Profile image required"),t},onSubmit:function(e,t){return new l.default(function(a,n){(0,c.updateCompanyImage)(e.logo_image).then(function(e){t(i.actions.getCompany()),t((0,u.reset)(m)),a()},function(e){n(e)})})}})(s.default))},587:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),r=a(18),l=a(200),o=a(585),u=a(16),i="edit-company-form";t.default=(0,n.connect)(function(e){return{initialValues:l.selectors.getCompany(e)}})((0,r.reduxForm)({form:i,enableReinitialize:!0,onSubmit:function(e,t){return(0,u.updateCompanyProfile)(e).then(function(a){t(l.actions.loadCompany(e))}).catch(function(){throw new r.SubmissionError({_error:"Failed to save company"})})}})(o.ConfigurationForm))},588:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationFormContainer=t.ChangeImageContainer=void 0;var r=a(586),l=n(r),o=a(587),u=n(o);t.ChangeImageContainer=l.default,t.ConfigurationFormContainer=u.default},590:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),l=n(r),o=a(588);t.default=function(){return l.default.createElement("div",{className:"container"},l.default.createElement("div",{className:"wrap"},l.default.createElement("section",{className:"app-content"},l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-md-6"},l.default.createElement("div",{className:"widget"},l.default.createElement("header",{className:"widget-header"},l.default.createElement("h4",{className:"widget-title"},"Company Branding")),l.default.createElement("hr",{className:"widget-separator"}),l.default.createElement("div",{className:"widget-body"},l.default.createElement("div",{className:"m-b-lg"},l.default.createElement("small",null,"Edit brand details on your dashboard.")),l.default.createElement(o.ConfigurationFormContainer,null)))),l.default.createElement("div",{className:"col-md-6"},l.default.createElement("div",{className:"widget"},l.default.createElement("div",{className:"widget-body"},l.default.createElement(o.ChangeImageContainer,null))))))))}},592:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(56),l=n(r),o=a(1),u=n(o),i=a(194),d=n(i),s=a(66),c=a(18),m=a(16),f=function(e){var t=e.handleSubmit,a=e.submitting,n=e.submitFailed,r=e.submitSucceeded;return u.default.createElement(d.default,null,u.default.createElement("div",{className:"simple-page-form animated flipInY",id:"reset-password-form"},u.default.createElement("h4",{className:"form-title m-b-xl text-center"},"Forgot Your Password ?"),!a&&n&&u.default.createElement("div",{className:"alert alert-danger text-center",role:"alert"},"Account not found"),!a&&r&&u.default.createElement("div",{className:"alert alert-success text-center",role:"alert"},"Email sent to reset your password"),u.default.createElement("form",{onSubmit:t},u.default.createElement("div",{className:"form-group"},u.default.createElement(c.Field,{id:"sign-in-email",type:"email",className:"form-control",placeholder:"Email",name:"email_address",component:"input"})),u.default.createElement("button",{type:"submit",className:"btn btn-primary",disabled:a},a?"SUBMITTING...":"RESET YOUR PASSWORD"))),u.default.createElement("div",{className:"simple-page-footer"},u.default.createElement("p",null,u.default.createElement(s.Link,{to:"/login"},"BACK TO LOGIN"))))};f.displayName="ForgotPassword",f.propTypes={handleSubmit:u.default.PropTypes.func,submitting:u.default.PropTypes.bool,submitFailed:u.default.PropTypes.bool,submitSucceeded:u.default.PropTypes.bool},t.default=(0,c.reduxForm)({form:"forgot",onSubmit:function(e,t){return new l.default(function(t,a){(0,m.resetUserPassword)(e).then(t,a)})},onSubmitSuccess:function(){}})(f)},594:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(56),l=n(r),o=a(24),u=n(o),i=a(13),d=n(i),s=a(1),c=n(s),m=a(109),f=a(194),p=n(f),b=a(66),v=a(18),y=a(5),g=a(16),h=a(195),E=a(568),_=n(E),w=a(47),P=n(w),N=a(682),T=n(N),S=a(169),C=n(S),M=function(e){var t=e.input,a=e.icon,n=(0,d.default)(e,["input","icon"]);return c.default.createElement("div",{className:"form-group"},c.default.createElement("div",{className:"input-with-icon"},c.default.createElement("i",{className:"fa "+a}),c.default.createElement("input",(0,u.default)({},t,n))))};M.propTypes={input:c.default.PropTypes.object,icon:c.default.PropTypes.string};var F=function(e,t){return(0,g.loginAdmin)(e).then(function(e){var a=e.data.user.user_email_address;(0,g.setToken)(e.data.token),t(m.actions.receiveCredentials(e.data));var n=(0,g.getUserProfile)(a);return n.then(function(a){e.data.user=a.data,t(m.actions.receiveCredentials(e.data)),(0,g.getUserProfileImage)(a.data.profile_image.substring(1)).then(function(e){return(0,h.rawImageToBase64)(e.data)}).then(function(a){e.data.user.base64Image=a,t(m.actions.receiveCredentials(e.data))})}),n})},x=function(e){var t=e.handleSubmit,a=e.submitting,n=e.submitFailed;return c.default.createElement(p.default,null,c.default.createElement("div",{className:"simple-page-form",id:"login-form"},c.default.createElement("div",{className:"logo"},c.default.createElement("img",{src:C.default,alt:"LawMap"})),!a&&n&&c.default.createElement("div",{className:"alert alert-danger text-center",role:"alert"},"Login failed"),c.default.createElement("form",{onSubmit:t},c.default.createElement(v.Field,{type:"email",icon:"fa-user",placeholder:"Email",name:"email_address",component:M}),c.default.createElement(v.Field,{type:"password",icon:"fa-key",placeholder:"Password",name:"password",component:M}),c.default.createElement("div",{className:"form-group m-b-xl"},c.default.createElement(v.Field,{name:"remember",id:"remember",label:"Remember me",type:"checkbox",component:_.default}),c.default.createElement("div",{className:"forgot-password"},c.default.createElement(b.Link,{to:"/forgot"},"Forgot Password?"))),c.default.createElement("div",{className:"buttons"},c.default.createElement("button",{type:"submit",className:"btn btn-lg btn-login btn-dark-blue",disabled:a},a?"Logging In...":"Login"))),c.default.createElement("footer",null,c.default.createElement("span",null,"Don't have an Account yet?"),c.default.createElement("a",{href:"javascript:void(0)"},"Sign up"))))};x.displayName="LoginView",x.propTypes={handleSubmit:c.default.PropTypes.func,submitting:c.default.PropTypes.bool,submitFailed:c.default.PropTypes.bool},t.default=(0,P.default)({didMount:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1]);try{var t=m.actions.readUserInfor(),a=t.email_address?T.default.decode(t.email_address):null,n=t.password?T.default.decode(t.password):null;a&&n&&F({email_address:a,password:n,remember:!1},e).then(function(){window.location="/"}).catch(function(e){console.log(e),m.actions.removeUserInfor()})}catch(e){console.log(e)}}})((0,y.connect)(function(){return{}})((0,v.reduxForm)({form:"login",onSubmit:function(e,t,a){a.router;return new l.default(function(a,n){F(e,t).then(function(){window.location="/",e.remember===!0&&m.actions.saveUserInfor(T.default.encode(e.email_address),T.default.encode(e.password)),a()}).catch(function(e){console.log(e),n()})})}})(x)))},598:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(56),l=n(r),o=a(1),u=n(o),i=a(5),d=a(194),s=n(d),c=a(18),m=a(16),f=a(47),p=n(f),b=function(e){var t=e.handleSubmit,a=e.submitting,n=e.submitFailed,r=e.submitSucceeded,l=e.error;return u.default.createElement(s.default,null,u.default.createElement("div",{className:"simple-page-form animated flipInY",id:"reset-password-form"},u.default.createElement("h4",{className:"form-title m-b-xl text-center"},"Reset Your Password ?"),!a&&n&&u.default.createElement("div",{className:"alert alert-danger text-center",role:"alert"},l||"Reset password failed"),!a&&r&&u.default.createElement("div",{className:"alert alert-success text-center",role:"alert"},"Your password has been reset"),u.default.createElement("form",{onSubmit:t},u.default.createElement("div",{className:"form-group"},u.default.createElement(c.Field,{id:"password",type:"password",placeholder:"Password",name:"password",component:"input"})),u.default.createElement("div",{className:"form-group"},u.default.createElement(c.Field,{id:"confirmPassword",type:"password",placeholder:"Confirm Password",name:"confirmPassword",component:"input"})),u.default.createElement("button",{type:"submit",className:"btn btn-primary",disabled:a},a?"RESETTING...":"RESET YOUR PASSWORD"))))};b.displayName="ResetPassword",b.propTypes={handleSubmit:u.default.PropTypes.func,submitting:u.default.PropTypes.bool,submitFailed:u.default.PropTypes.bool,submitSucceeded:u.default.PropTypes.bool,error:u.default.PropTypes.string},t.default=(0,p.default)({willMount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,a=e.location.query,n=a.reset_token,r=a.email_address;n&&r||t.replace("/login")}})((0,i.connect)(function(e,t){var a=t.location.query,n=a.reset_token,r=a.email_address;return{initialValues:{reset_token:n,email_address:r}}})((0,c.reduxForm)({form:"reset",onSubmit:function(e,t){var a=e.confirmPassword,n=e.password;if(n){if(a!==n)throw new c.SubmissionError({_error:"Passwords must match"});return new l.default(function(t,a){(0,m.passwordReset)(e).then(t,a).catch(function(){throw new c.SubmissionError({_error:"Reset password failed"})})})}throw new c.SubmissionError({_error:"Password is required"})}})(b)))},682:function(e,t,a){var n;(function(e,r){!function(l){var o="object"==typeof t&&t,u=("object"==typeof e&&e&&e.exports==o&&e,"object"==typeof r&&r);u.global!==u&&u.window!==u||(l=u);var i=function(e){this.message=e};i.prototype=new Error,i.prototype.name="InvalidCharacterError";var d=function(e){throw new i(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,m=function(e){e=String(e).replace(c,"");var t=e.length;t%4==0&&(e=e.replace(/==?$/,""),t=e.length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&d("Invalid character: the string to be decoded is not correctly encoded.");for(var a,n,r=0,l="",o=-1;++o<t;)n=s.indexOf(e.charAt(o)),a=r%4?64*a+n:n,r++%4&&(l+=String.fromCharCode(255&a>>(-2*r&6)));return l},f=function(e){e=String(e),/[^\0-\xFF]/.test(e)&&d("The string to be encoded contains characters outside of the Latin1 range.");for(var t,a,n,r,l=e.length%3,o="",u=-1,i=e.length-l;++u<i;)t=e.charCodeAt(u)<<16,a=e.charCodeAt(++u)<<8,n=e.charCodeAt(++u),r=t+a+n,o+=s.charAt(r>>18&63)+s.charAt(r>>12&63)+s.charAt(r>>6&63)+s.charAt(63&r);return 2==l?(t=e.charCodeAt(u)<<8,a=e.charCodeAt(++u),r=t+a,o+=s.charAt(r>>10)+s.charAt(r>>4&63)+s.charAt(r<<2&63)+"="):1==l&&(r=e.charCodeAt(u),o+=s.charAt(r>>2)+s.charAt(r<<4&63)+"=="),o},p={encode:f,decode:m,version:"0.1.0"};n=function(){return p}.call(t,a,t,e),!(void 0!==n&&(e.exports=n))}(this)}).call(t,a(126)(e),function(){return this}())}});